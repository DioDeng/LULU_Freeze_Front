{"version":3,"file":"js/641.77c74c64.js","mappings":"yKAGSA,MAAM,sB,GAOFC,IAAI,iB,GAIRD,MAAM,sB,GAOFC,IAAI,iB,GAIRD,MAAM,8C,kBAITE,EAAAA,EAAAA,GAAsC,KAAnCC,KAAK,IAAIH,MAAM,aAAY,QAAI,G,oHA3BtCI,EAAAA,EAAAA,IA6BQC,EAAA,CA7BDC,IAAI,UAA6BC,SAAQC,EAAAC,Q,mBAC9C,EAD6BC,UAAI,EACjCR,EAAAA,EAAAA,GAUM,MAVNS,EAUM,EATJC,EAAAA,EAAAA,IAKEC,EAAA,CAJAC,KAAK,QACLC,KAAK,QACLC,MAAM,iBACNhB,MAAM,mCAERE,EAAAA,EAAAA,GAEQ,QAFRe,EAEQ,UAFmB,mBACZL,EAAAA,EAAAA,IAAsDM,EAAA,CAAxCJ,KAAK,QAAQd,MAAM,0BAGlDE,EAAAA,EAAAA,GAUM,MAVNiB,EAUM,EATJP,EAAAA,EAAAA,IAKEC,EAAA,CAJAC,KAAK,WACLC,KAAK,WACLC,MAAM,WACNhB,MAAM,mCAERE,EAAAA,EAAAA,GAEQ,QAFRkB,EAEQ,UAFmB,cACjBR,EAAAA,EAAAA,IAAyDM,EAAA,CAA3CJ,KAAK,WAAWd,MAAM,0BAGhDE,EAAAA,EAAAA,GAKM,MALNmB,EAKM,EAJJnB,EAAAA,EAAAA,GAES,UAFDa,KAAK,SAASf,MAAM,iCAAkCsB,UAAWZ,EAAKa,OAAO,OAErF,EAAAC,GACAC,O,iCAMN,GACEC,QAAS,CACPjB,MAAAA,CAAOkB,GACL,MAAMC,EAAO,qCACbC,KAAKC,MACFC,KAAKH,EAAKD,GACVK,MAAMC,IACL,MAAMC,EAAU,IAAIC,KAAKA,KAAKC,MAAQ,OAAqBC,cAC3DC,SAASC,OAAU,qBAAoBN,EAAIO,KAAKC,KAAKC,kBAAkBR,YACvEL,KAAKc,QAAQC,KAAK,aAAa,IAEhCC,OAAOC,IACNC,QAAQC,IAAIF,EAAI,GAEtB,GAEFG,OAAAA,GACE,MAAMP,EAAQJ,SAASC,OAAOW,QAC5B,oDACA,MAEFrB,KAAKC,MAAMqB,SAASC,QAAQC,OAAOC,cAAiB,UAASZ,IAC7D,MAAMd,EAAO,sCACbC,KAAKC,MACFyB,IAAI3B,GACJI,MAAMC,IACLc,QAAQC,IAAIf,GACZJ,KAAKc,QAAQC,KAAK,aAAa,IAEhCC,OAAOC,IACNC,QAAQC,IAAI,KAAMF,EAAI,GAE5B,G,UC9DF,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://web/./src/views/dash/LoginView.vue","webpack://web/./src/views/dash/LoginView.vue?eee1"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <VForm ref=\"formRef\" v-slot=\"{ meta }\" @submit=\"signIn\">\n    <div class=\"form-floating mb-3\">\n      <VField\n        name=\"email\"\n        type=\"email\"\n        rules=\"required|email\"\n        class=\"form-control bg-body-tertiary\"\n      />\n      <label for=\"floatingInput\">\n        Email address<ErrorMessage name=\"email\" class=\"text-danger ms-3\" />\n      </label>\n    </div>\n    <div class=\"form-floating mb-5\">\n      <VField\n        name=\"password\"\n        type=\"password\"\n        rules=\"required\"\n        class=\"form-control bg-body-tertiary\"\n      />\n      <label for=\"floatingInput\">\n        Password<ErrorMessage name=\"password\" class=\"text-danger ms-3\" />\n      </label>\n    </div>\n    <div class=\"d-flex flex-column align-items-center mb-4\">\n      <button type=\"submit\" class=\"btn btn-outline-dark w-50 mb-4\" :disabled=\"!meta.valid\">\n        登入\n      </button>\n      <a href=\"#\" class=\"text-dark\">忘記密碼</a>\n    </div>\n  </VForm>\n</template>\n\n<script>\nexport default {\n  methods: {\n    signIn(e) {\n      const api = `${process.env.VUE_APP_API}/admin/signIn`;\n      this.$http\n        .post(api, e)\n        .then((res) => {\n          const expries = new Date(Date.now() + 1000 * 60 * 60 * 30).toGMTString();\n          document.cookie = `LULU-Frozen-Admin=${res.data.user.token}; expires=${expries}; path=/`;\n          this.$router.push('/dashboard');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    const token = document.cookie.replace(\n      /(?:(?:^|.*;\\s*)LULU-Frozen\\s*=\\s*([^;]*).*$)|^.*$/,\n      '$1',\n    );\n    this.$http.defaults.headers.common.Authorization = `Bearer ${token}`;\n    const api = `${process.env.VUE_APP_API}/member/signIn`;\n    this.$http\n      .get(api)\n      .then((res) => {\n        console.log(res);\n        this.$router.push('/dashboard');\n      })\n      .catch((err) => {\n        console.log('錯誤', err);\n      });\n  },\n};\n</script>\n","import { render } from \"./LoginView.vue?vue&type=template&id=fa3b5428\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","for","_createElementVNode","href","_createBlock","_component_VForm","ref","onSubmit","$options","signIn","meta","_hoisted_1","_createVNode","_component_VField","name","type","rules","_hoisted_2","_component_ErrorMessage","_hoisted_3","_hoisted_4","_hoisted_5","disabled","valid","_hoisted_6","_hoisted_7","methods","e","api","this","$http","post","then","res","expries","Date","now","toGMTString","document","cookie","data","user","token","$router","push","catch","err","console","log","mounted","replace","defaults","headers","common","Authorization","get","__exports__","render"],"sourceRoot":""}